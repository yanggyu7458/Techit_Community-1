<!DOCTYPE html>
<html lang="en">
<style>
    /* 공지 목록 스타일 */
    .notice-list {
        margin-bottom: 20px;
    }
    .notice-list p {
        margin: 0;
    }
    .notice-list hr {
        margin: 10px 0;
        border: none;
        border-top: 1px solid #ccc;
    }
    .top {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

    .top div {
        margin-right: 10px;
        border-bottom: 1px solid #999;
    }

    /* 각 요소에 원하는 스타일을 적용할 수 있습니다 */
    .top .num {
        width: 10%;
        text-align: center;
    }

    .top .title {
        width: 60%;
        text-align: center;
    }

    .top .writer {
        width: 10%;
        text-align: center;
    }

    .top .date {
        width: 10%;
        text-align: center;
    }

    .top .count {
        width: 10%;
        text-align: center;
    }
    .body {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

    .body div {
        margin-right: 10px;
        border-bottom: 1px solid #999;
    }

    /* 각 요소에 원하는 스타일을 적용할 수 있습니다 */
    .body .num {
        width: 10%;
        text-align: center;
    }

    .body .title {
        width: 60%;
        text-align: center;
    }

    .body .writer {
        width: 10%;
        text-align: center;
    }

    .body .date {
        width: 10%;
        text-align: center;
    }

    .body .count {
        width: 10%;
        text-align: center;
    }
</style>
<!-- 이 코드를 적으면 fragments에 header파일이 불러와 집니다.(css, js파일 불러오기) -->
<head th:replace="~{fragments/header :: header}"/>
<head th:fragment="header">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrinkto-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <!-- Custom styles for this template -->
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/js/bootstrap.bundle.js}"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/bootstrap.bundle.js"></script>
    <meta charset="UTF-8">
    <title>Notice List</title>
</head>
<body>
<!-- 이 코드를 적으면 fragments에 bodyheader파일이 불러와 집니다(상단바) -->
<div th:replace="~{fragments/bodyHeader :: bodyHeader}"/>

<h1>공지사항</h1>
<div class="top">
    <div class="num">번호</div>
    <div class="title">제목</div>
    <div class="date">작성일</div>
    <div class="count">조회수</div>
</div>

<!--<div th:if="${noticeList.isEmpty()}">-->
<!--    <p>...</p>-->
<!--</div>-->
<div class="body" th:unless="${noticeList.isEmpty()}"
     th:each="notice: ${noticeList}">
    <div class="num">[[${notice.id}]]</div>
    <div class="title"><a th:href="@{/notice/{id}(id=${notice.id})}">[[${notice.title}]]</a></div>
    <div class="date">[[${#temporals.format(notice.createAt, 'yyyy-MM-dd HH:mm')}]]</div>
    <div class="count">[[${notice.viewCount}]]</div>
    <hr>
</div>
<a th:href="@{/notice/add-view}">등록</a>
<!-- 페이징 -->
<div class="pagination">
    <span class="page-item" th:classappend="${currentPage == 1} ? disabled"><a class="page-link" th:href="@{/notice?page=1}">처음</a></span>
    <span class="page-item" th:classappend="${currentPage == 1} ? disabled"><a class="page-link" th:href="@{/notice(page=${currentPage - 1})}">이전</a></span>
    <span class="page-item" th:classappend="${i == currentPage} ? active" th:each="i: ${#numbers.sequence(1, totalPages)}" th:if="${i >= 1 and i <= totalPages}">
        <a class="page-link" th:href="@{/notice(page=${i})}">[[${i}]]</a>
    </span>
    <span class="page-item" th:classappend="${currentPage == totalPages} ? disabled"><a class="page-link" th:href="@{/notice(page=${currentPage + 1})}">다음</a></span>
    <span class="page-item" th:classappend="${currentPage == totalPages} ? disabled"><a class="page-link" th:href="@{/notice(page=${totalPages})}">마지막</a></span>
</div>
<!--게시글 검색-->
<form class="search-form" th:action="@{/notice/list}" method="get">
    <input type="text" name="keyword" placeholder="검색어 입력">
    <select name="searchOption">
        <option value="title">제목으로 검색</option>
        <option value="titleAndContent">제목 + 내용으로 검색</option>
    </select>
    <button type="submit">검색</button>
</form>
<!-- 이 코드를 적으면 fragments에 footer 파일이 불러와 집니다(하단 footer) -->
<div th:replace="~{fragments/footer :: footer}" />
</body>
</html>